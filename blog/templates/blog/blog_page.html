<!-- Detailed view of a Blog Entry.

Source of the Wagtail code of this file: https://docs.wagtail.org/en/stable/getting_started/tutorial.html

-->

{#{% extends "base.html" %}#}

{% extends "blog-layout.html" %}

<!-- Load the wagtailimages_tags: -->
{% load wagtailcore_tags wagtailimages_tags %}

{% block body_class %}template-blogpage{% endblock %}

{% block content %}


    <!-- ======= Blog Section =======

    This, alongside the "container" div, will make the text and the images will give the text and images the same margin
    as the margin of the Navbar's logo.
    -->
    <section id="blog" class="blog">
        <div class="container" data-aos="fade-up">

            <div class="row">

                <div class="col-lg-8 entries">

                    <!-- The entire entry will be here.


                     -->
                    <article class="entry entry-single">

                        <h2 class="entry-title">
                            {{ page.title }}
                            {#                            <a href="blog-single.html">#}
                            {#                                {{ page.title }}#}
                            {#                            </a>#}
                        </h2>

                        <!-- Date and author of the article -->
                        <div class="entry-meta">
                            <ul>
                                                        <!-- Authors with their respective profile images. -->
                        {% with authors=page.authors.all %}
                            {% if authors %}
                                {% for author in authors %}
                                    <li style="display: inline">
                                        <i class="bi bi-person"></i>
                                        <a>{{ author.name }}</a>
                                    </li>
                                {% endfor %}
                            {% endif %}
                        {% endwith %}

                        {#                          <li class="d-flex align-items-center">#}
                        {#                              <i class="bi bi-person"></i>#}
                        {#                              <a>John Doe</a>#}
                        {#                          </li>#}
                              <li class="d-flex align-items-center">

                                  <!-- Gray clock icon. It needs the "a" tag to make the date gray. -->
                                  <i class="bi bi-clock"></i> <a>
                                    {#                                  <a href="blog-single.html">#}

                                  <!-- Date of the article. -->
                                  <time datetime="2020-01-01">{{ page.date }}</time></a>
                              </li>
                                {#                              <li class="d-flex align-items-center"><i class="bi bi-chat-dots"></i> <a href="blog-single.html">12 Comments</a></li>#}
                            </ul>
                        </div>

                        {#                        <p class="meta">#}
                        {#                            {{ page.date }}#}
                        {#                        </p>#}

                        {#                        <!-- Authors with their respective profile images. -->#}
                        {#                        {% with authors=page.authors.all %}#}
                        {#                            {% if authors %}#}
                        {#                                <h3>Posted by:</h3>#}
                        {#                                <ul>#}
                        {#                                    {% for author in authors %}#}
                        {#                                        <li style="display: inline">#}
                        {#                                            {% image author.author_image fill-40x60 style="vertical-align: middle" %}#}
                        {#                                            {{ author.name }}#}
                        {#                                        </li>#}
                        {#                                    {% endfor %}#}
                        {#                                </ul>#}
                        {#                            {% endif %}#}
                        {#                        {% endwith %}#}

                        <div class="intro">{{ page.intro }}</div>

                        {{ page.body|richtext }}

                        <!-- This renders the images, if the Blog Entry has any.

                         I added a ton of line breaks (<br>) so that the images always look inside the "card"
                         that contains the text.

                         -->
                        {% for item in page.gallery_images.all %}
                                {#                            <div style="float: inline-start; margin: 10px;">#}

                                <!-- "Float" doesn't accept "inline-start", so I'll use "left". This way, the images
                                 should appear to the left side of the screen.
                                 -->
                                <div style="float: left; margin: 10px;">
                                {% image item.image fill-320x240 %}
                                <p>{{ item.caption }}</p>
                            </div>
                            <br>
                            <br>
                            <br>
                            <br>
                            <br>
                            <br>
                            <br>
                            <br>
                            <br>
                            <br>
                            <br>
                            <br>
                        {% endfor %}
                        {#                        {% if page.gallery_images.all %}#}
                        {#                            <br>#}
                        {#                            <br>#}
                        {#                            <br>#}
                        {#                            <br>#}
                        {#                            <br>#}
                        {#                            <br>#}
                        {#                            <br>#}
                        {#                            <br>#}
                        {#                            <br>#}
                        {#                            <br>#}
                        {#                        {% endif %}#}

                        <p><a href="{{ page.get_parent.url }}">Return to blog</a></p>







                    </article>
                </div>
            </div>






            <!-- Tags functionality, which was added using Wagtail -->
            {% with tags=page.tags.all %}
                {% if tags %}
                    <div class="tags">
                        <h3>Tags</h3>
                        {% for tag in tags %}
                            <a href="{% slugurl 'tags' %}?tag={{ tag }}">
                                <button type="button">{{ tag }}</button>
                            </a>
                        {% endfor %}
                    </div>
                {% endif %}
            {% endwith %}

        </div>
    </section> <!-- End Blog Section -->

{% endblock %}